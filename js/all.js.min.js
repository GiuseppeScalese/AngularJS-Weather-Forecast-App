!function(){var a=angular.module("app",[]);a.controller("main",function(a){a.message="Weather Forecast Service"}),a.controller("content",function(a,b,c,d){var e=function(b){a.hidePanel=!0,a.showError=!0},f=function(b){a.cityData=b,a.cityData.cod>"299"?(a.error=a.cityData.message,a.hidePanel=!0,a.showError=!0):(a.hidePanel=!1,a.showError=!1,a.temperature=Math.round(a.cityData.main.temp-273.15),a.temperatureMin=Math.round(a.cityData.main.temp_min-273.15),a.temperatureMax=Math.round(a.cityData.main.temp_max-273.15),g(a.temperature),a.humidity=Math.round(a.cityData.main.humidity),a.windSpeed=Math.round(a.cityData.wind.speed))};a.search=function(a){d.info("Searching for "+a),void 0!==a&&b.getCityInfo(a).then(f,e)};var g=function(b){b>=30?a.dynamicBgColour="very-hot":b>20&&30>b?a.dynamicBgColour="hot":b>10&&20>b?a.dynamicBgColour="mild":b>0&&10>b?a.dynamicBgColour="cold":0>=b&&(a.dynamicBgColour="very-cold")};a.city="London",a.regex=/^[a-zA-Z\s]*$/,a.validationMessage="Please use letters only",a.validationMessageEmpty="Please enter a city name",a.errorRetrieveData="Error: Could not retrieve the data.",a.search(a.city),c(function(){a.search(a.city)},12e4)})}(),function(){var a=function(a){var b=function(b){return a.get("http://api.openweathermap.org/data/2.5/weather?q="+b+"&appid=68a2809807cc9d79ea6310d2f92c55c3").then(function(a){return a.data})};return{getCityInfo:b}},b=angular.module("app");b.factory("weatherData",a)}();